{"version":3,"sources":["helpers/findData.tsx","store/loading.ts","store/message.ts","store/posts.ts","store/filterOption.ts","helpers/api.ts","store/index.ts","components/Start.tsx","components/CommentItem.tsx","components/PostItem.tsx","components/PostsList.tsx","components/SearchField.tsx","App.tsx","index.tsx"],"names":["findAuthor","userId","users","person","find","user","id","address","Object","entries","slice","map","option","join","name","email","findComments","comments","filter","comment","postId","reducer","loading","action","type","setMessage","message","setPostsList","posts","payload","fetchData","url","a","fetch","response","json","data","rootReducer","combineReducers","loadingReducer","messageReducer","postsReducer","filterOptionReducer","getPosts","state","isLoading","getFilterOption","store","createStore","composeWithDevTools","applyMiddleware","thunk","Start","dispatch","useDispatch","useSelector","className","onClick","preparedPosts","post","author","disabled","CommentItem","body","href","PostItem","title","key","PostsList","visiblePosts","item","includes","SearchField","inputValue","placeholder","value","onChange","event","currentTarget","App","length","Root","ReactDOM","render","document","getElementById"],"mappings":"wUAEaA,EAAa,SAACC,EAAgBC,GACzC,IAAMC,EAA2BD,EAAME,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOL,KAEhE,GAAIE,EAAQ,CACV,IAAMI,EAAUC,OAAOC,QAAQN,EAAOI,SACnCG,MAAM,EAAG,GACTC,KAAI,SAAAC,GAAM,OAAIA,EAAOC,KAAK,UAC1BA,KAAK,MAER,MAAO,CAACV,EAAOW,KAAMX,EAAOY,MAAOR,GAGrC,MAAO,IAGF,SAASS,EAAaV,EAAYW,GACvC,OAAOA,EAASC,QAAO,SAAAC,GAAO,OAAIA,EAAQC,SAAWd,KChBvD,IAmBee,EAdC,WAAyC,IAAxCC,EAAuC,wDAAtBC,EAAsB,uCACtD,OAAQA,EAAOC,MACb,IAPkB,gBAShB,OAAO,EAET,IAVmB,iBAWjB,OAAO,EAET,QACE,OAAOF,ICbAG,EAAa,SAACC,GAAD,MAAsB,CAAEF,KAF9B,cAEiDE,YAYtDL,EAVC,WAAsC,IAArCK,EAAoC,uDAA1B,GAAIH,EAAsB,uCACnD,OAAQA,EAAOC,MACb,IANgB,cAOd,OAAOD,EAAOG,QAEhB,QACE,OAAOA,I,QCPAC,EAAe,SAACC,GAAD,MAAoB,CAAEJ,KAF3B,iBAEiDK,QAASD,IAalEP,EAXC,WAA4C,IAA3CO,EAA0C,uDAA1B,GAAIL,EAAsB,uCACzD,OAAQA,EAAOC,MACb,IANmB,iBAQjB,OAAO,YAAID,EAAOM,SAEpB,QACE,OAAOD,ICGEP,EAXC,WAAqC,IAApCT,EAAmC,uDAA1B,GAAIW,EAAsB,uCAClD,OAAQA,EAAOC,MACb,IANsB,oBAQpB,OAAOD,EAAOM,QAEhB,QACE,OAAOjB,ICTAkB,EAAS,uCAAG,WAAUC,GAAV,iBAAAC,EAAA,sEACAC,MAAMF,GADN,cACjBG,EADiB,gBAEJA,EAASC,OAFL,cAEjBC,EAFiB,yBAIhBA,GAJgB,2CAAH,sDCchBC,EAAcC,0BAAgB,CAClChB,QAASiB,EACTb,QAASc,EACTZ,MAAOa,EACP7B,OAAQ8B,IAKGC,EAAW,SAACC,GAAD,OAAsBA,EAAMhB,OACvCiB,EAAY,SAACD,GAAD,OAAsBA,EAAMtB,SAExCwB,EAAkB,SAACF,GAAD,OAAsBA,EAAMhC,QAmC5CmC,EALDC,sBACZX,EACAY,8BAAoBC,0BAAgBC,OCzDzBC,EAAQ,WACnB,IAAMC,EAAWC,cACXhC,EAAUiC,YAAYV,GAE5B,OACE,4BACEW,UAAU,kBACVhC,KAAK,SACLiC,QAAS,kBAAMJ,EDmBM,uCAAO,WAAOA,GAAP,qBAAArB,EAAA,6DAChCqB,EL5BiC,CAAE7B,KAHf,kBK8BY,kBAIVM,EDnCA,6EC+BU,cAIxB5B,EAJwB,gBAKV4B,EDrCA,6ECgCU,cAKxBF,EALwB,iBAMPE,EDpCA,gFC8BO,QAMxBb,EANwB,OAQxByC,EAAwB9B,EAAMjB,KAAI,SAACgD,GAAU,IAAD,EACf3D,EAAW2D,EAAK1D,OAAQC,GADT,mBACzC0D,EADyC,KACjC7C,EADiC,KAC1BR,EAD0B,KAGhD,OAAO,2BACFoD,GADL,IAEEC,SACA7C,QACAR,UACAU,SAAUD,EAAa2C,EAAKrD,GAAIW,QAIpCoC,EAAS1B,EAAa+B,IApBQ,kDAsB9BL,EAAS5B,EAAW,qCAtBU,QAyBhC4B,ELnDkC,CAAE7B,KAHf,mBK6BW,0DAAP,wDClBrBqC,SAAUvC,GAETA,EAAU,aAAe,SCTnBwC,EAA+B,SAAC,GAAD,IAAG3C,EAAH,EAAGA,QAAH,OAC1C,wBAAIqC,UAAU,WACZ,2BAAIrC,EAAQL,MACZ,uBAAG0C,UAAU,iBAAiBrC,EAAQ4C,MACtC,uBAAGP,UAAU,OAAOQ,KAAK,uBAAuB7C,EAAQJ,SCH/CkD,EAA4B,SAAC,GAAD,IAAGN,EAAH,EAAGA,KAAH,OACvC,wBAAIH,UAAU,gDACZ,wBAAIA,UAAU,eAAeG,EAAKO,OAClC,2BAAIP,EAAKI,MACT,yBAAKP,UAAU,WACb,yBAAKA,UAAU,SACb,uBAAGA,UAAU,eAAb,eAGGG,EAAKC,SAGV,yBAAKJ,UAAU,SACb,uBAAGA,UAAU,OAAOQ,KAAK,uBAAzB,cAGGL,EAAK5C,OAER,0CAGG4C,EAAKpD,WAIZ,4BACGoD,EAAK1C,SAASN,KAAI,SAAAQ,GAAO,OAAI,kBAAC,EAAD,CAAagD,IAAKhD,EAAQb,GAAIa,QAASA,UC3B9DiD,EAAY,WACvB,IAAMxC,EAAQ2B,YAAYZ,GACpB/B,EAAS2C,YAAYT,GACrBuB,EAAezC,EAAMV,QAAO,SAAAoD,GAAI,OAAKA,EAAKJ,MAAQI,EAAKP,MAAMQ,SAAS3D,MAE5E,OACE,wBAAI4C,UAAU,SACXa,EAAa1D,KAAI,SAAAgD,GAAI,OAAI,kBAAC,EAAD,CAAUQ,IAAKR,EAAKrD,GAAIqD,KAAMA,SCTjDa,EAAc,WACzB,IAAMC,EAAalB,YAAYT,GACzBO,EAAWC,cAQjB,OACE,yBAAKE,UAAU,uBACb,2BACEA,UAAU,iBACVlD,GAAG,OACHoE,YAAY,SACZlD,KAAK,OACLmD,MAAOF,EACPG,SAde,SAACC,GAA8C,IAC1DF,EAAUE,EAAMC,cAAhBH,MAERtB,EPRgD,CAAE7B,KAF5B,oBAEqDK,QOQlD8C,SCoBdI,EAtBH,WACV,IAAMzD,EAAUiC,YAAYV,GACtBjB,EAAQ2B,YAAYZ,GAE1B,OACE,yBAAKa,UAAU,OAGV5B,EAAMoD,OAGH,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,OAJF,kBAAC,EAAD,MAQN,4BAAK1D,GAAW,gBCnBhB2D,EAAO,kBACX,kBAAC,IAAD,CAAUlC,MAAOA,GACf,kBAAC,IAAD,KACE,kBAAC,EAAD,SAKNmC,IAASC,OAAO,kBAAC,EAAD,MAAUC,SAASC,eAAe,W","file":"static/js/main.3bb44f92.chunk.js","sourcesContent":["import { User, Comment } from '../interfaces/interfaces';\n\nexport const findAuthor = (userId: number, users: User[]) => {\n  const person: User | undefined = users.find(user => user.id === userId);\n\n  if (person) {\n    const address = Object.entries(person.address)\n      .slice(0, 4)\n      .map(option => option.join(' : '))\n      .join(', ');\n\n    return [person.name, person.email, address];\n  }\n\n  return [];\n};\n\nexport function findComments(id: number, comments: Comment[]) {\n  return comments.filter(comment => comment.postId === id);\n}\n","import { AnyAction } from 'redux';\n\nconst START_LOADING = 'START_LOADING';\nconst FINISH_LOADING = 'FINISH_LOADING';\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const finishLoading = () => ({ type: FINISH_LOADING });\nconst reducer = (loading = false, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n\n      return true;\n\n    case FINISH_LOADING:\n      return false;\n\n    default:\n      return loading;\n  }\n};\n\nexport default reducer;\n","import { AnyAction } from 'redux';\n\nconst SET_MESSAGE = 'SET_MESSAGE';\n\nexport const setMessage = (message: string) => ({ type: SET_MESSAGE, message });\n\nconst reducer = (message = '', action: AnyAction) => {\n  switch (action.type) {\n    case SET_MESSAGE:\n      return action.message;\n\n    default:\n      return message;\n  }\n};\n\nexport default reducer;\n","import { AnyAction } from 'redux';\nimport { Post } from '../interfaces/interfaces';\n\nconst SET_POSTS_LIST = 'SET_POSTS_LIST';\n\nexport const setPostsList = (posts: Post[]) => ({ type: SET_POSTS_LIST, payload: posts });\n\nconst reducer = (posts: Post[] = [], action: AnyAction) => {\n  switch (action.type) {\n    case SET_POSTS_LIST:\n\n      return [...action.payload];\n\n    default:\n      return posts;\n  }\n};\n\nexport default reducer;\n","import { AnyAction } from 'redux';\n\nconst SET_FILTER_OPTION = 'SET_FILTER_OPTION';\n\nexport const setFilterOption = (option: string) => ({ type: SET_FILTER_OPTION, payload: option });\n\nconst reducer = (option = '', action: AnyAction) => {\n  switch (action.type) {\n    case SET_FILTER_OPTION:\n\n      return action.payload;\n\n    default:\n      return option;\n  }\n};\n\nexport default reducer;\n","export const URLPosts = 'https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json';\nexport const URLUsers = 'https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json';\nexport const URLComments = 'https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json';\n\nexport const fetchData = async <T>(url: string): Promise<T[]> => {\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return data;\n};\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { Dispatch } from 'react';\n\nimport { findAuthor, findComments } from '../helpers/findData';\nimport loadingReducer, { finishLoading, startLoading } from './loading';\nimport messageReducer, { setMessage } from './message';\nimport postsReducer, { setPostsList } from './posts';\nimport filterOptionReducer from './filterOption';\n\nimport {\n  fetchData, URLComments, URLUsers, URLPosts,\n} from '../helpers/api';\nimport {\n  Comment, PostFromServer, User, Post,\n} from '../interfaces/interfaces';\n\nconst rootReducer = combineReducers({\n  loading: loadingReducer,\n  message: messageReducer,\n  posts: postsReducer,\n  option: filterOptionReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport const getPosts = (state: RootState) => state.posts;\nexport const isLoading = (state: RootState) => state.loading;\nexport const getMessage = (state: RootState) => state.message;\nexport const getFilterOption = (state: RootState) => state.option;\n\nexport const loadMessage = () => (async (dispatch: Dispatch<any>) => {\n  dispatch(startLoading());\n\n  try {\n    const users = await fetchData<User>(URLUsers);\n    const posts = await fetchData<PostFromServer >(URLPosts);\n    const comments = await fetchData<Comment>(URLComments);\n\n    const preparedPosts: Post[] = posts.map((post) => {\n      const [author, email, address] = findAuthor(post.userId, users);\n\n      return {\n        ...post,\n        author,\n        email,\n        address,\n        comments: findComments(post.id, comments),\n      };\n    });\n\n    dispatch(setPostsList(preparedPosts));\n  } catch (error) {\n    dispatch(setMessage('Error occurred when loading data'));\n  }\n\n  dispatch(finishLoading());\n});\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n\nexport default store;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { isLoading, loadMessage } from '../store';\n\nexport const Start = () => {\n  const dispatch = useDispatch();\n  const loading = useSelector(isLoading);\n\n  return (\n    <button\n      className=\"btn btn-info ml\"\n      type=\"button\"\n      onClick={() => dispatch(loadMessage())}\n      disabled={loading}\n    >\n      {loading ? 'Loading...' : 'Load'}\n    </button>\n  );\n};\n","import React from 'react';\nimport { Comment } from '../interfaces/interfaces';\n\ninterface Props {\n  comment: Comment;\n}\n\nexport const CommentItem: React.FC<Props> = ({ comment }) => (\n  <li className=\"comment\">\n    <p>{comment.name}</p>\n    <p className=\"comment__body\">{comment.body}</p>\n    <a className=\"mail\" href=\"mailto:1111@mail.ru\">{comment.email}</a>\n  </li>\n);\n","import React from 'react';\nimport { Post } from '../interfaces/interfaces';\nimport { CommentItem } from './CommentItem';\n\ninterface Props {\n  post: Post;\n}\n\nexport const PostItem: React.FC<Props> = ({ post }) => (\n  <li className=\"post shadow-lg p-3 mb-5 bg-white font-italic\">\n    <h4 className=\"post__title\">{post.title}</h4>\n    <p>{post.body}</p>\n    <div className=\"wrapper\">\n      <div className=\"box-l\">\n        <p className=\"post__title\">\n          Post by\n          &nbsp;\n          {post.author}\n        </p>\n      </div>\n      <div className=\"box-r\">\n        <a className=\"mail\" href=\"mailto:1111@mail.ru\">\n          Email:\n          &nbsp;\n          {post.email}\n        </a>\n        <p>\n          Address\n          &nbsp;\n          {post.address}\n        </p>\n      </div>\n    </div>\n    <ul>\n      {post.comments.map(comment => <CommentItem key={comment.id} comment={comment} />)}\n    </ul>\n  </li>\n);\n","/* eslint-disable no-console */\nimport React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getPosts, getFilterOption } from '../store';\nimport { PostItem } from './PostItem';\n\nexport const PostsList = () => {\n  const posts = useSelector(getPosts);\n  const option = useSelector(getFilterOption);\n  const visiblePosts = posts.filter(item => (item.title + item.body).includes(option));\n\n  return (\n    <ul className=\"posts\">\n      {visiblePosts.map(post => <PostItem key={post.id} post={post} />)}\n    </ul>\n  );\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getFilterOption } from '../store';\nimport { setFilterOption } from '../store/filterOption';\n\nexport const SearchField = () => {\n  const inputValue = useSelector(getFilterOption);\n  const dispatch = useDispatch();\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n\n    dispatch(setFilterOption(value));\n  };\n\n  return (\n    <div className=\"input-field col s12\">\n      <input\n        className=\"input validate\"\n        id=\"text\"\n        placeholder=\"Search\"\n        type=\"text\"\n        value={inputValue}\n        onChange={handleChange}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport './App.scss';\nimport { Start } from './components/Start';\nimport { PostsList } from './components/PostsList';\nimport { SearchField } from './components/SearchField';\n\nimport { isLoading, getPosts } from './store';\n\nconst App = () => {\n  const loading = useSelector(isLoading);\n  const posts = useSelector(getPosts);\n\n  return (\n    <div className=\"App\">\n\n      {\n        !posts.length\n          ? <Start />\n          : (\n            <>\n              <SearchField />\n              <PostsList />\n            </>\n          )\n      }\n      <h2>{loading && 'Loading...'}</h2>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\nimport store from './store';\n\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}